<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>产品需求手册 - EVYD 产品经理 AI 工作台</title>
    <!-- 样式文件 -->
    <link rel="stylesheet" href="../../styles/common.css?v=<?php echo time(); ?>">
    <link rel="stylesheet" href="../../styles/main.css?v=<?php echo time(); ?>">
    <link rel="stylesheet" href="../../styles/markdown.css?v=<?php echo time(); ?>">
    <style>
        /* 直接在页面中添加样式以确保文档内容样式正确 */
        .markdown-body {
            font-family: 'Lato', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 100%;
            overflow-x: auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }
        
        .document-header {
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eaecef;
        }
        
        .document-meta {
            font-size: 0.9em;
            color: #6a737d;
            margin-top: 10px;
        }
        
        .document-version, 
        .document-date {
            margin-right: 20px;
        }
    </style>
    <!-- 添加字体 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- 导入JS库 -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="../../scripts/services/storage.js"></script>
    <script src="../../modules/auth/auth.js"></script>
</head>
<body>
    <header class="header">
        <div class="container header-container">
            <div class="logo-container">
                <img src="../../assets/images/Group-29-2048x943.png" alt="EVYD Logo" class="logo">
                <span class="logo-divider"></span>
                <div class="logo-text">
                    <h1>产品经理 AI 工作台</h1>
                    <p>AI驱动的产品开发助手</p>
                </div>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="../../index.html">工具主页</a></li>
                    <li><a href="#">AI 工具</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle active">文档中心 <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg></a>
                        <div class="dropdown-menu">
                            <a href="product-requirements.html" class="active">产品需求手册</a>
                            <a href="#">API文档</a>
                            <a href="#">使用教程</a>
                        </div>
                    </li>
                    <li id="admin-panel-link" style="display: none;"><a href="#" id="admin-panel-button">管理面板</a></li>
                </ul>
            </nav>
            <div class="user-actions">
                <div id="user-info" style="display: none;">
                    <span id="username-display"></span>
                    <div class="user-dropdown">
                        <button class="user-dropdown-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                        </button>
                        <div class="dropdown-content">
                            <a href="#" id="profile-settings">账号设置</a>
                            <a href="#" id="view-api-keys">查看API密钥</a>
                            <a href="#" id="logout-button">登出</a>
                        </div>
                    </div>
                </div>
                <button id="login-button" class="btn-login">登录</button>
            </div>
        </div>
    </header>

    <main class="container main-content">
        <div class="document-header">
            <h1>EVYD 产品经理 AI 工作台 - 产品需求手册</h1>
            <div class="document-meta">
                <span class="document-version">版本: 1.2.1</span>
                <span class="document-date">最后更新: 2024-05-15</span>
            </div>
        </div>
        
        <div class="document-content markdown-body" id="markdown-content">
            <!-- 这里将通过JavaScript处理Markdown内容 -->
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <h3>EVYD 产品经理 AI 工作台</h3>
                    <p>基于EVYD科技先进的人工智能技术，为产品经理提供的一站式工作平台，提升工作效率和产出质量。</p>
                </div>
                <div class="footer-links">
                    <div class="copyright">© 2023 EVYD Technology</div>
                    <div class="links">
                        <a href="#">关于我们</a>
                        <a href="#">使用条款</a>
                        <a href="#">隐私政策</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 直接嵌入Markdown内容而不是通过fetch加载
            const markdownContent = `# EVYD 产品经理 AI 工作台 - 产品需求手册

## 文档信息

- **文档名称**：EVYD 产品经理 AI 工作台产品需求手册
- **当前版本**：1.2.1
- **创建日期**：2023-04-05
- **最后更新**：2024-05-15
- **文档状态**：更新中
- **文档所有者**：EVYD产品团队

## 版本历史

| 版本号 | 更新日期 | 更新人 | 更新描述 |
|-------|---------|-------|---------|
| 1.0   | 2023-04-05 | EVYD产品团队 | 初始版本，创建基本的产品需求文档结构 |
| 1.1   | 2024-04-04 | EVYD产品团队 | 更新UI需求，统一使用Lato字体 |
| 1.2   | 2024-05-10 | EVYD产品团队 | 新增UX界面设计(POC)功能 |
| 1.2.1 | 2024-05-15 | EVYD产品团队 | 修复UX界面设计功能的用户体验问题，包括文本区域展开和生成/停止功能 |

## 1. 产品概述

### 1.1 产品背景

EVYD 产品经理 AI 工作台是基于EVYD科技先进的人工智能技术，为产品经理提供的一站式工作平台，旨在提升产品经理的工作效率和产出质量。随着人工智能技术的快速发展，产品经理面临的工作挑战日益增长，需要更智能化的工具来辅助其完成日常工作。

### 1.2 产品愿景

打造产品经理的得力助手，通过AI技术赋能产品经理，使其能够更专注于战略思考和创新设计，而非繁琐的文档编写工作。

### 1.3 目标用户

- 初级产品经理：需要学习和提高产品文档撰写能力
- 中高级产品经理：需要提高工作效率，减少重复工作
- 创业团队成员：兼任产品角色，需要快速产出高质量产品文档
- 企业产品部门：需要标准化产品文档和工作流程

## 2. 功能需求

### 2.1 用户认证模块

#### 2.1.1 登录功能
- 用户应能通过用户名和密码登录系统
- 系统应支持记住登录状态功能
- 密码找回功能 Work In Progress

#### 2.1.2 用户管理
- 管理员应能添加、编辑和删除用户
- 应支持不同角色权限设置
- 用户应能修改个人密码

### 2.2 AI功能模块

#### 2.2.1 User Story生成器
- 用户提供 Platform，System，Module，需求描述的 4 个字段后，AI自动生成完整的用户故事
- 仅支持 Given - When - Then - And 的叙述模式，完美契合 EVYD 的工作环境
- 提供输出内容的一键复制功能
- 支持应急暂停正在生成的任务，节省 Token
- 完成输出后展示每次生成的耗时，Token消耗，步骤次数

#### 2.2.2 用户手册生成器
- 根据产品的需求描述自动生成用户手册文档
- 支持用在 EVYD的 User Manual 内容中
- 提供输出内容的一键复制功能
- 支持应急暂停正在生成的任务，节省 Token
- 完成输出后展示每次生成的耗时，Token消耗，步骤次数

#### 2.2.3 UX界面设计(POC)
- 根据需求描述和User Story生成Figma界面设计的AI提示词
- 支持Markdown格式输出，方便阅读和使用
- 提供复制功能便于直接粘贴到Figma中使用
- 生成按钮在生成过程中转变为停止按钮，方便用户随时中断生成过程
- 生成时提供动态红色加载动画，明确指示生成状态
- 支持应急暂停正在生成的任务，节省Token
- 完成输出后展示每次生成的耗时，Token消耗，步骤次数
- 支持文本区域的全屏展开功能，方便输入和编辑较长的需求描述
- 作为概念验证(POC)功能，旨在探索AI在界面设计中的应用可能性

#### 2.2.4 需求分析助手
- 需求待定 Work In Progress

### 2.3 API配置模块

- 支持配置Dify API地址
- 支持在应用级别配置个人密钥

## 3. 非功能需求

### 3.1 性能需求

- 页面加载时间不超过3秒
- 暂不支持一次性处理多个并发

### 3.2 安全需求

- 用户密码加密存储
- API密钥安全管理
- 用户数据隔离

### 3.3 可用性需求

- 直观的用户界面
- 响应式设计，支持不同设备
- 详细的操作引导和帮助文档

### 3.4 可扩展性需求

- 支持新功能模块的快速集成

## 4. 用户界面需求

### 4.1 总体设计

- 采用现代简洁的界面风格
- 使用清晰的导航结构
- 保持界面一致性
- 全站统一使用 Lato 字体，提供一致的视觉体验

### 4.2 字体规范

- 主要字体：Lato（从Google Fonts引入）
- 字重使用：Light (300), Regular (400), Medium (500), Semi-Bold (600), Bold (700)
- 标题使用 Semi-Bold 或 Bold 字重
- 正文使用 Regular 字重
- 强调文字使用 Medium 字重
- 使用系统字体作为备选方案

### 4.3 主要界面

- 登录界面
- 控制台/仪表板
- User Story生成器
- 用户手册生成器
- UX界面设计(POC)
- 需求分析工具 Work In Progress
- 用户管理界面
- 设置界面

### 4.4 UX界面设计用户交互

- 文本框展开：点击右上角的展开按钮，将文本框放大至全屏状态，便于编辑较长的需求描述；点击缩小按钮或遮罩层可以恢复原始大小
- 生成/停止机制：
  - 点击"生成设计提示词"按钮开始生成过程
  - 生成过程中按钮变为"生成中...点击停止"状态，显示红色旋转动画
  - 点击正在生成状态的按钮可以立即停止生成过程
  - 停止后按钮恢复到初始"生成设计提示词"状态
- 结果复制：生成结果页面右上角提供复制按钮，一键复制全部内容
- Markdown渲染：生成的内容采用Markdown格式，并自动渲染为HTML格式展示

## 5. 系统架构

### 5.1 前端架构

- 纯前端实现，可直接在浏览器中运行
- 模块化设计，便于维护和扩展
- 本地存储用户配置和历史记录

### 5.2 外部依赖

- Dify API：提供AI功能支持
- Google Fonts：提供Lato字体
- 图标库：提供UI资源

## 6. 发布计划

### 6.1 里程碑

| 里程碑 | 计划日期 | 主要交付内容 |
|-------|---------|------------|
| Alpha版本 | / | / |
| UI优化版本 | 2024-04-04 | 统一全站字体为Lato，提升用户体验一致性 |
| UX界面设计(POC) | 2024-05-10 | 新增Figma界面设计提示词生成功能 |
| Bug修复版本 | 2024-05-15 | 修复UX界面设计文本区域展开和生成/停止功能，统一用户体验 |


## 7. 风险与限制

### 7.1 已知风险

- AI模型可能产生不准确或不合适的内容
- API服务可能存在不稳定性
- 用户对AI生成内容的接受度不确定
- 外部字体依赖可能导致在某些网络环境下加载缓慢

### 7.2 限制条件

- 离线环境下无法使用AI功能
- 受API调用频率和额度限制
- 生成内容受到模型能力的限制
- 依赖Google Fonts服务可用性

## 8. 附录

### 8.1 术语表

| 术语 | 定义 |
|-----|-----|
| User Story | 从终端用户角度描述软件功能的简短描述 |
| API | 应用程序编程接口，允许不同软件应用之间的交互 |
| Dify | 一种AI应用开发平台 |
| Lato | 由波兰设计师Łukasz Dziedzic设计的无衬线字体，项目中使用的主要字体 |
| POC | Proof of Concept(概念验证)，用于验证某个想法或概念的可行性 |
| Figma | 一款基于浏览器的协作式界面设计工具 |`;

            // 使用marked库将Markdown转换为HTML
            const htmlContent = marked.parse(markdownContent);
            document.getElementById('markdown-content').innerHTML = htmlContent;

            // 检查登录状态并更新界面
            if (typeof checkAuth === 'function') {
                checkAuth();
            }
        });
    </script>
</body>
</html> 